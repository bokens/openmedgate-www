<!-- Segment Picker ("I am a: Hospital / AI Vendor / Developer / Public Sector") -->
<div x-data="segmentPicker()" class="segment-picker">
  <p class="text-lg text-gray-600 dark:text-gray-300 mb-4">{{ i18n "segment_question" }}</p>
  
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    <!-- Hospital -->
    <button @click="selectSegment('hospital')"
        :class="{ 'ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/30': segment === 'hospital' }"
        class="p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600 transition-all text-center group card-hover">
      <div class="w-12 h-12 mx-auto mb-3 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center group-hover:bg-primary-100 dark:group-hover:bg-primary-900/50 transition-colors">
        <svg class="w-6 h-6 text-gray-600 dark:text-gray-300 group-hover:text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
        </svg>
      </div>
      <span class="font-medium text-gray-900 dark:text-white">{{ i18n "segment_hospital" }}</span>
    </button>
    
    <!-- AI Vendor -->
    <button @click="selectSegment('ai_vendor')"
            :class="{ 'ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/30': segment === 'ai_vendor' }"
            class="p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600 transition-all text-center group">
      <div class="w-12 h-12 mx-auto mb-3 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center group-hover:bg-primary-100 dark:group-hover:bg-primary-900/50 transition-colors">
        <svg class="w-6 h-6 text-gray-600 dark:text-gray-300 group-hover:text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
        </svg>
      </div>
      <span class="font-medium text-gray-900 dark:text-white">{{ i18n "segment_ai_vendor" }}</span>
    </button>
    
    <!-- Developer -->
    <button @click="selectSegment('developer')"
            :class="{ 'ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/30': segment === 'developer' }"
            class="p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600 transition-all text-center group">
      <div class="w-12 h-12 mx-auto mb-3 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center group-hover:bg-primary-100 dark:group-hover:bg-primary-900/50 transition-colors">
        <svg class="w-6 h-6 text-gray-600 dark:text-gray-300 group-hover:text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
        </svg>
      </div>
      <span class="font-medium text-gray-900 dark:text-white">{{ i18n "segment_developer" }}</span>
    </button>
    
    <!-- Public Sector -->
    <button @click="selectSegment('public_sector')"
            :class="{ 'ring-2 ring-primary-500 bg-primary-50 dark:bg-primary-900/30': segment === 'public_sector' }"
            class="p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600 transition-all text-center group">
      <div class="w-12 h-12 mx-auto mb-3 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center group-hover:bg-primary-100 dark:group-hover:bg-primary-900/50 transition-colors">
        <svg class="w-6 h-6 text-gray-600 dark:text-gray-300 group-hover:text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"/>
        </svg>
      </div>
      <span class="font-medium text-gray-900 dark:text-white">{{ i18n "segment_public_sector" }}</span>
    </button>
  </div>
  
  <!-- Dynamic CTA based on segment -->
  <div x-show="segment" x-cloak class="mt-8" x-transition>
    <template x-if="segment === 'hospital'">
      <a href="{{ site.Params.quantummedURL }}" 
         class="inline-flex items-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors">
        Book a Demo
        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      </a>
    </template>
    <template x-if="segment === 'ai_vendor'">
      <a href="#contact" 
         class="inline-flex items-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors">
        Become a Partner
        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      </a>
    </template>
    <template x-if="segment === 'developer'">
      <a href="#" 
         class="inline-flex items-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors">
        View Documentation
        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      </a>
    </template>
    <template x-if="segment === 'public_sector'">
      <a href="#contact" 
         class="inline-flex items-center px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors">
        Schedule a Call
        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      </a>
    </template>
  </div>
</div>

<script>
  function segmentPicker() {
    return {
      segment: null,
      
      selectSegment(seg) {
        this.segment = seg;
        // Store in localStorage for form pre-fill
        localStorage.setItem('omg_segment', seg);
        
        // Track selection
        if (typeof gtag !== 'undefined') {
          gtag('event', 'segment_selected', { 'segment': seg });
        }
      }
    }
  }
</script>
